<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Apply | Devs Community</title>
<style>
body {
  font-family: Arial, sans-serif;
  background: #0e0c27;
  color: white;
  padding: 20px;
}
.container {
  max-width: 600px;
  margin: auto;
  background: rgba(255,255,255,0.07);
  padding: 25px;
  border-radius: 12px;
}
h2 {
  text-align: center;
  margin-bottom: 15px;
}
input, select, textarea {
  width: 100%;
  padding: 10px;
  margin-bottom: 12px;
  border: none;
  border-radius: 8px;
  background: rgba(255,255,255,0.15);
  color: white;
}
input:focus, select:focus, textarea:focus {
  outline: none;
  box-shadow: 0 0 8px #7a4bff;
}
button {
  width: 100%;
  padding: 12px;
  border: none;
  border-radius: 20px;
  background: #7a4bff;
  font-size: 1rem;
  font-weight: bold;
  cursor: pointer;
  color: white;
}
button:hover {
  background: #9d6dff;
}
</style>
</head>
<body>

<div class="container">
  <h2>Apply to Devs Community üöÄ</h2>
  <form id="applyForm" enctype="multipart/form-data">

    <input type="text" name="Full Name" placeholder="Full Name" required>
    <input type="email" name="Email" placeholder="Email" required>
    <input type="tel" name="Phone" placeholder="Phone (e.g. 01012345678)" required>
    <input type="text" name="National ID" placeholder="National ID (14 digits)" required>
    <input type="date" name="DOB" required>

    <select name="Education" required>
      <option value="">Education Level</option>
      <option>Secondary</option>
      <option>University</option>
      <option>Graduate</option>
    </select>

    <input type="text" name="College" placeholder="College Name">
    <input type="text" name="Track" placeholder="Track (e.g. Web, AI, Flutter)">

    <select name="Governorate" required>
      <option value="">Governorate</option>
      <option>Cairo</option><option>Giza</option><option>Alexandria</option>
      <option>Ismailia</option><option>Suez</option><option>Aswan</option>
    </select>

    <select name="Department" id="department" required>
      <option value="">Preferred Department</option>
      <option>HR</option>
      <option>IT</option>
      <option>PR</option>
      <option>Media</option>
      <option>Logistics</option>
    </select>

    <select name="Specialization" id="specialization" style="display:none;" required>
      <option value="">Specialization</option>
    </select>

    <input type="file" name="CV" accept=".pdf,.doc,.docx" required>

    <textarea name="Message" rows="3" placeholder="Why you want to join?" required></textarea>

    <button type="submit">Submit Application</button>
  </form>
</div>

<script>
const scriptURL = "https://script.google.com/macros/s/AKfycbwc7pBtEdbP_2FEvO-XGw-mzq-KCAswpMgOtHjMp-GCSLZ_8pHY16pKopKJCR2X326U/exec"; // ‚Ü©Ô∏è ÿ∂ÿπ ŸáŸÜÿß ÿ±ÿßÿ®ÿ∑ ÿßŸÑÿ≥ŸÉÿ±ÿ®ÿ™
const form = document.getElementById("applyForm");
const dep = document.getElementById("department");
const spec = document.getElementById("specialization");

// ‚ú® ÿØŸäŸÜÿßŸÖŸäŸÉŸäÿ© ÿßŸÑÿ™ÿÆÿµÿµ ÿ®ŸÜÿßÿ°Ÿã ÿπŸÑŸâ ÿßŸÑŸÇÿ≥ŸÖ
dep.addEventListener("change", ()=>{
  spec.style.display = "none";
  spec.innerHTML = '<option value="">Specialization</option>';

  if(dep.value === "IT"){
    spec.style.display = "block";
    spec.innerHTML += `
      <option>.NET</option>
      <option>Node.js</option>
      <option>Frontend</option>
      <option>Network</option>
      <option>Cyber Security</option>
      <option>Artificial Intelligence</option>
    `;
  }
  if(dep.value === "Media"){
    spec.style.display = "block";
    spec.innerHTML += `
      <option>Graphic Designer</option>
      <option>Content Creator</option>
      <option>Video Editing</option>
    `;
  }
});

form.addEventListener("submit", async (e)=>{
  e.preventDefault();

  const formData = new FormData(form);

  try{
    const res = await fetch(scriptURL, {
      method: "POST",
      body: formData
    });
    const result = await res.json();

    if(result.status === "success"){
      alert("‚úÖ Sent successfully!");
      form.reset();
      spec.style.display = "none";
    } else {
      alert("‚ö†Ô∏è " + result.message);
    }
  } catch(err){
    alert("‚ÄºÔ∏è Network error");
  }
});
</script>

</body>
</html>
